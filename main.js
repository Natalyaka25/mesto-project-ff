(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n){var r=n.onDeleteCard,o=n.onLikeCard,c=n.onOpenView,a=e.querySelector(".places__item").cloneNode(!0),p=a.querySelector(".card__image"),u=a.querySelector(".card__title"),d=a.querySelector(".card__delete-button"),i=a.querySelector(".card__like-button");return p.src=t.link,p.alt=t.name,u.textContent=t.name,d.addEventListener("click",(function(){r(a)})),i.addEventListener("click",(function(){o(i)})),p.addEventListener("click",(function(){c(t)})),a}var n="popup_is-opened";function r(e){document.addEventListener("keydown",c),e.classList.add(n),document.addEventListener("keydown",c)}function o(e){e.classList.remove(n),document.removeEventListener("keydown",c)}function c(e){if("Escape"===e.key){var t=document.querySelector(".".concat(n));t&&o(t)}}function a(e){e.target===e.currentTarget&&o(e.currentTarget)}var p=document.querySelector(".places__list"),u=document.querySelector(".profile__add-button"),d=document.querySelector(".profile__edit-button"),i=document.querySelectorAll(".popup"),l=document.querySelector(".popup_type_edit"),s=document.forms["edit-profile"],_=s.querySelector(".popup__input_type_name"),m=s.querySelector(".popup__input_type_description"),y=document.querySelector(".profile__title"),v=document.querySelector(".profile__description"),f=document.querySelector(".popup_type_new-card"),k=document.forms["new-place"],q=k.querySelector(".popup__input_type_card-name"),S=k.querySelector(".popup__input_type_url"),L=document.querySelector(".popup_type_image"),g=L.querySelector(".popup__image"),E=L.querySelector(".popup__caption"),h={onDeleteCard:function(e){e.remove()},onLikeCard:function(e){e.classList.toggle("card__like-button_is-active")},onOpenView:function(e){var t=e.name,n=e.link;g.src=n,g.alt=t,E.textContent=t,r(L)}};d.addEventListener("click",(function(){_.value=y.textContent,m.value=v.textContent,r(l)})),u.addEventListener("click",(function(){k.reset(),r(f)})),i.forEach((function(e){e.querySelector(".popup__close").addEventListener("click",(function(){o(e)})),e.addEventListener("click",a),e.classList.add("popup_is-animated")})),s.addEventListener("submit",(function(e){e.preventDefault();var t=_.value,n=m.value;y.textContent=t,v.textContent=n,o(l)})),k.addEventListener("submit",(function(e){!function(e){e.preventDefault();var n=t({name:q.value,link:S.value},h);p.prepend(n),o(f)}(e)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var n=t(e,h);p.append(n)}))})();
//# sourceMappingURL=main.js.map